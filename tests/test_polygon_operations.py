import pytest
import numpy as np
from shapely.geometry.linestring import LineString
from shapely.geometry.polygon import Polygon
from shapely.wkt import loads
from shapely.geometry.polygon import orient

from quarterquarter.polygon_ops import split_to_lines

test_poly_1 = Polygon(([0, 0], [0, 1], [1, 1], [1, 0], [0, 0]))
test_poly_2 = loads("""MultiPolygon (((147208.817200000397861 4104178.12759999930858612, 147223.2002999996766448 4104585.44189999997615814, 147236.12490000016987324 4104991.59710000082850456, 147643.1889000004157424 4104985.12189999967813492, 148053.67190000042319298 4104978.61339999921619892, 148464.15579999983310699 4104972.12160000018775463, 148874.6380000002682209 4104965.65289999917149544, 148845.73959999997168779 4104561.95270000025629997, 148828.27599999960511923 4104147.1181000005453825, 148810.81560000032186508 4103732.38550000078976154, 148793.35659999959170818 4103317.65000000037252903, 148388.97589999996125698 4103343.62549999915063381, 147984.59300000034272671 4103369.62069999985396862, 147580.31180000025779009 4103395.63089999929070473, 147181.94269999954849482 4103363.23240000009536743, 147194.43580000009387732 4103770.81039999984204769, 147208.817200000397861 4104178.12759999930858612)))""")



def test_split_to_lines():
    for polygon in [test_poly_1, test_poly_2]:
        polygon = orient(polygon, sign=-1.0)  # set orientation to clockwise
        lines = split_to_lines(polygon)
    # lines = split_to_lines(test_poly_2)
    # print(lines[0])
